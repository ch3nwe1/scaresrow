### 字符串概述

#### 字符串及转义

在python中表示字符串既可以使用单引号（`'`）,也可以使用双引号（`"`）

```python
>>> "Hello world!"
'Hello world'
>>> 'Hello world!'
'Hello world!'
```

但有时候我们的字符串本身也包含引号，例如：**Let's go** 或者 **”hello world“, she said**，python的解决方案是如果字符串中只有单引号时可以在字符两侧使用双引号，如果字符中只有双引号时可以在字符两侧使用单引号，请参见下面的示例：

```python
>>> "Let's go"
"Let's go"
>>> '”hello world“, she said'
'”hello world“, she said'
>>> 'Let's go'
 File "<stdin>", line 1
    'Let's go'
         ^
SyntaxError: invalid syntax
```

实际上，并非必须这样做（这样做只是出于方便考虑）。可使用反斜杠（\）对引号进行转义

```python
>>> 'Let\'s go'
"Let's go"
```

#### str 和 repr

你可通过使用函数str和repr直接使用这两种机制。使用str能以合理的方式将值转换为用户能够看懂的字符串。例如，尽可能将特殊字符编码转换为相应的字符。然而，使用repr时，通常会获得值的合法Python表达式表示。

```python
>>> print(repr("Hello,\nworld!"))
'Hello,\nworld!'
>>> print(str("Hello,\nworld!"))
Hello,
world!
>>> s = """
... Hello
... World
... """
>>> print(repr(s))
'\nHello,\nworld\n'
```

#### 长字符串、原始字符串和字节

##### 1. 长字符串

如果要表示很长的字符串，可以使用三引号（'''）或者 （"""）

```python
>>> print('''This is a very long string. It continues here.
And it's not over yet. "Hello, world!"
Still here.''')
```

##### 2. 原始字符串

原始字符串不以特殊方式处理反斜杠，因此在有些情况下很有用②。在常规字符串中，反斜
杠扮演着特殊角色：它对字符进行转义，让你能够在字符串中包含原本无法包含的字符。例如，你已经看到可使用\n表示换行符，从而像下面这样在字符串中包含换行符：

```python
>>> print('Hello,\nworld!')
Hello,
world!
```

在这样的情况下，原始字符串可派上用场，因为它们根本不会对反斜杠做特殊处理，而是让
字符串包含的每个字符都保持原样。

```python
>>> print(r'C:\nowhere')
C:\nowhere
```

### 格式化字符串

在格式字符串中,最激动人心的部分为替换字段。替换字段由如下部分组成,其中每个部分都是可选的。

1.  **字段名**:索引或标识符,指出要设置哪个值的格式并使用结果来替换该字段。除指定值外,还可指定值的特定部分,如列表的元素。
2. **转换标志**:跟在叹号后面的单个字符。当前支持的字符包括r(表示repr)、s(表示str)和 a(表示ascii)。如果你指定了转换标志,将不使用对象本身的格式设置机制,而是使用指定的函数将对象转换为字符串,再做进一步的格式设置。
3. **格式说明符**:跟在冒号后面的表达式(这种表达式是使用微型格式指定语言表示的)。格式说明符让我们能够详细地指定最终的格式,包括格式类型(如字符串、浮点数或十六进制数),字段宽度和数的精度,如何显示符号和千位分隔符,以及各种对齐和填充方式。

#### 替換字段名

在最简单的情况下,只需向format提供要设置其格式的未命名参数,并在格式字符串中使用未命名字段。此时,将按顺序将字段和参数配对。你还可给参数指定名称,这种参数将被用于相应的替换字段中。你可混合使用这两种方法。

```python
>>>  "{foo} {} {bar} {}".format(1, 2, bar=4, foo=3)
'3 1 4 2'
```

其中，參數foo和bar分別指定了4和3, 另外兩個參數按順序分別指定了1和2，和可以通過索引來指定相應的未命名參數

```python
>>>  "{foo} {1} {bar} {0}".format(1, 2, bar=4, foo=3)
'3 2 4 1'
```

{0}指向第一個参数，{1} 指向第二個参数

除了使用索引外，还可使用句点表示法来访问导入的模块中的方法、属性、变量和函数

```python
>>> fullname = ["Alfred", "Smoketoomuch"]
>>> "Mr {name[1]}".format(name=fullname)
'Mr Smoketoomuch'
>>> import math
>>> tmpl = "The {mod.__name__} module defines the value {mod.pi} for π"
>>> tmpl.format(mod=math)
'The math module defines the value 3.141592653589793 for π'
```

#### 基本转换

指定要在字段中包含的值后,就可添加有关如何设置其格式的指令了。首先,可以提供一个转换标志。

```python
>>> print("{pi!s} {pi!r} {pi!a}".format(pi="π"))
π 'π' '\u03c0'
```

上述三个标志(s、r和a)指定分别使用str、repr和ascii进行转换。函数str通常创建外观普通的字符串版本(这里没有对输入字符串做任何处理)。函数repr尝试创建给定值的Python表示(这里是一个字符串字面量)。函数ascii创建只包含ASCII字符的表示

你还可指定要转换的值是哪种类型,更准确地说,是要将其视为哪种类型。例如,你可能提供一个整数,但将其作为小数进行处理。为此可在格式说明(即冒号后面)使用字符f(表示定点数) 。

```python
>>> "The number is {num}".format(num=42)
'The number is 42'
>>> "The number is {num:f}".format(num=42)
'The number is 42.000000'
```

<table border='1'>
    <caption>字符串格式设置中的类型说明符</caption>
    <tr>
    	<th width="20%" align="center">类型</th>
    	<th width="80%">含义</th>
    </tr>
    <tr>
    	<td align="center">b</td>
        <td>将整数表示为二进制</td>
    </tr>
    <tr>
    	<td align="center">c</td>
        <td>将整数解读为unicode</td>
    </tr>
    <tr>
    	<td align="center">d</td>
        <td>将整数视为十进制数进行处理,这是整数默认使用的说明符</td>
    </tr>
    <tr>
    	<td align="center">e</td>
        <td>用科学计数法表示小数</td>
    </tr>
    <tr>
    	<td align="center">e</td>
        <td>用科学计数法表示小数</td>
    </tr>
    <tr>
    	<td align="center">E</td>
        <td>与e相同,但使用E来表示指数</td>
    </tr>
    <tr>
    	<td align="center">f</td>
        <td>表示小数</td>
    </tr>
    <tr>
    	<td align="center">F</td>
        <td>与f相同,但对于特殊值(<b>nan</b>和<b>inf</b>),使用大写表示</td>
    </tr>
	<tr>
		<td align="center">g</td>
		<td>自动在定点表示法和科学表示法之间做出选择。这是默认用于小数的说明符，但在默认情况下至少有1位小数</td>
	</tr>
    <tr>
    	<td align="center">G</td>
        <td>与g相同，但使用大写来表示指数和特殊值</td>
    </tr>
    <tr>
    	<td align="center">n</td>
        <td>与g相同，但插入随区域而异的数字分隔符</td>
    </tr>
    <tr>
    	<td align="center">o</td>
        <td>将整数表示为八进制数</td>
    </tr>
    <tr>
    	<td align="center">s</td>
        <td>保持字符串的格式不变，这是默认用于字符串的说明符</td>
    </tr>
    <tr>
    	<td align="center">x</td>
        <td>将整数表示为十六进制数并使用小写字母</td>
    </tr>
    <tr>
    	<td align="center">X</td>
        <td>与x相同，但使用大写字母</td>
    </tr>
    <tr>
    	<td align="center">%</td>
        <td>将数表示为百分比值（乘以100，按说明符f设置格式，再在后面加上%）</td>
    </tr>
</table>

#### 宽度、精度和千位分隔符

