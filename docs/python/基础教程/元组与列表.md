# 元组与列表

## 序列概述

Python中最基本的数据结构是序列，在多种序列中，最常用的两种分别是**列表**和**元组**，另外一种重要的序列是字符串。在列表中表示序列的方式是中括号**[]**，各个元素之间用逗号隔开,如下所示：

​		`edward = ['Edward Gumby', 42]`

## 通用的序列操作

### 索引

序列中所有元素都有编号——从0开始递增，例如：

```python
>>> greeting = 'Hello'
>>> greeting[0]
'H'
```

在python中，可以通过索引来获取元素，如果索引值超出了序列的长度，则会报错`IndexError: list index out of range`，与其他语言不同的是，python可以使用负索引，即从从右（最后一个元素）往左计数，如下：

```python
>>> greeting[-1]
'o'
```

### 切片

在获取单个元素我们可以使用索引，但是如果获取指定范围的多个元素时，可以使用切片来实现，及两个索引，中间用冒号隔开。

```python
>>> tag = '<a href="http://www.python.org">Python web site</a>'
>>> tag[9:30]
'http://www.python.org'
```



从上面的代码我们可以看出，打印的范围是包含第一个索引值<font color="red">**9**</font>对应的<font color="red">**h**</font>,但是不包含<font color="red">**30**</font>对应的双引号（<font color="red">**”**</font>），<b>但是必须是第一个索引的位置小于第二个索引的位置。否则为空</b>。

```python
>>> tag[30:9]
''
```

同样，我们可以在切片中使用负数索引。系统将会从左至右匹配，第一个索引必须小于第二个索引，否则将无法匹配到内容。

```python
>>> tag[-19:-4]
'Python web site'
>>> tag[-4:-19]
''
```

我们也可以正负索引同时使用：

```python
>>> tag[32:-4]
'Python web site'
```

与索引不同的是，切片中的第二个索引如果超出了序列的长度，是不会报错了，只会匹配到最后一个。

```python
>>> numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
>>> numbers[9, 100]
[9, 10]
```

如果你只想从地一个元素匹配到某一个位置，或者从某一个位置匹配到最后一个元素，则该索引位置可以省略，如果想复制整个序列，则两个索引都可以省略

```python
>>> numbers[8:]
[9, 10]
>>> numbers[:2]
[0, 1]
>>> numbers[:]
[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
```

执行切片操作时,你显式或隐式地指定起点和终点,但通常省略另一个参数,即步长。在普通切片中,步长为1。这意味着从一个元素移到下一个元素,因此切片包含起点和终点之间的所有元素。

```python
>>> numbers[0:10:1]
[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
>>> numbers[0:10:2]
[1, 3, 5, 7, 9]
```

如果指定了步长为负值，则序列的匹配逻辑不再是从左至右，而是从右至左。而且第一个索引的实际位置必须大于第二个索引的实际位置，无则无法匹配到任何内容

```python
>>> numbers[8:3:-1]
[9, 8, 7, 6, 5]
>>> numbers[10:0:-2]
[10, 8, 6, 4, 2]
>>> numbers[0:10:-2]
[]
```

<h3>序列相加</h3>
两个序列之间是可以相加，可视为合并，但不同类型间的序列不可以相加

```python
>>> [1, 2, 3] + [4, 5, 6]
[1, 2, 3, 4, 5, 6]
>>> 'Hello,' + 'world!'
'Hello,world!'
>>>  [1, 2, 3] + 'world!'
File "<stdin>", line 1
    [1, 2, 3] + 'world!'
    ^
IndentationError: unexpected indent
```



<h3>乘法</h3>
将序列与数x相乘时,将重复这个序列x次来创建一个新序列:

```python
>>> 'python' * 5
'pythonpythonpythonpythonpython'
>>> [42] * 10
[42, 42, 42, 42, 42, 42, 42, 42, 42, 42]
```

<h3>成员资格</h3>
要检查特定的值是否包含在序列中,可使用运算符in。这个运算符与前面讨论的运算符(如乘法或加法运算符)稍有不同。它检查是否满足指定的条件,并返回相应的值:满足时返回True,不满足时返回False。这样的运算符称为**布尔运算符**,而前述真值称为布尔值。

```python
>>> permissions = 'rw'
>>> 'w' in permissions
True
>>> 'x' in permissions
False
```

## 列表

### 一、函数list

list函数可以将字符串转换成列表

```python
>>> list('Hello')
['H', 'e', 'l', 'l', 'o']
```

同样也可以将字符列表转换成字符串，`‘’.join(somelist)`

### 二、基本的列表操作

#### 1.修改列表：给元素赋值

给列表中的某一个位置的元素赋值，`变量名[索引值]=实际值`

```python
>>> x = [1, 1, 1]
>>> x[1] = 2
>>> x
[1, 2, 1]
```

#### 2.删除元素

从列表中删除元素也很容易,只需使用del语句即可。

```python
>>> names = ['Alice', 'Beth', 'Cecil', 'Dee-Dee', 'Earl']
>>> del names[2]
>>> names
['Alice', 'Beth', 'Dee-Dee', 'Earl']
```

### 三、列表方法

#### 1. append

方法append用于将一个对象附加到列表末尾。但是需要注意的是该方法是修改原对象，可以通过`id()`方法查看对象在内存中的地址来验证

```python
>>> lst = [1, 2, 3]
>>> lst.append(4)
>>> lst
[1, 2, 3, 4]
```

#### 2. clear

方法clear就地清空列表的内容。

```python
>>> lst = [1, 2, 3]
>>> lst.clear()
>>> lst
[]
```

#### 3. copy

方法 copy 复制列表。前面说过,常规复制只是将另一个名称关联到列表。
```python
>>> a = [1, 2, 3]
>>> b = a.copy()
>>> b[1] = 4
>>> a
[1, 2, 3]

```

#### 4. count

方法count计算指定的元素在列表中出现了多少次。

```python
>>> ['to', 'be', 'or', 'not', 'to', 'be'].count('to')
2
>>> x = [[1, 2], 1, 1, [2, 1, [1, 2]]]
>>> x.count(1)
2
>>> x.count([1, 2])
1

```

#### 5. extend

方法extend让你能够同时将多个值附加到列表末尾,为此可将这些值组成的序列作为参数提
供给方法extend。换而言之,你可使用一个列表来扩展另一个列表。

```python
>>> a = [1, 2, 3]
>>> b = [4, 5, 6]
>>> a.extend(b)
>>> a
[1, 2, 3, 4, 5, 6]

```

#### 6. index

方法index在列表中查找指定值第一次出现的索引。

```python
>>> knights = ['We', 'are', 'the', 'knights', 'who', 'say', 'ni']
>>> knights.index('who')
4
```

#### 7. insert

方法insert用于将一个对象插入列表。

```python
>>> numbers = [1, 2, 3, 5, 6, 7]
>>> numbers.insert(3, 'four')
>>> numbers
[1, 2, 3, 'four', 5, 6, 7]
```

#### 8. pop

方法pop从列表中删除一个元素(末尾为最后一个元素),并返回这一元素。

```python
>>> x = [1, 2, 3]
>>> x.pop()
3
>>> x
[1, 2]
>>> x.pop(0)
1
>>> x
[2]
```

#### 9. remove

方法remove用于删除第一个为指定值的元素。

```python
>>> x = ['to', 'be', 'or', 'not', 'to', 'be']
>>> x.remove('be')
>>> x
['to', 'or', 'not', 'to', 'be']
```

#### 10. reverse

方法reverse按相反的顺序排列列表中的元素

```python
>>> x = [1, 2, 3]
>>> x.reverse()
>>> x
[3, 2, 1]

```

#### 11. sort(sorted)

方法sort用于对列表就地排序 1 。就地排序意味着对原来的列表进行修改,使其元素按顺序
排列,而不是返回排序后的列表的副本。

```python
>>> x = [4, 6, 2, 1, 7, 9]
>>> x.sort()
>>> x
[1, 2, 4, 6, 7, 9]
```

```python
>>> x = [4, 6, 2, 1, 7, 9]
>>> y = sorted(x)
>>> x
[4, 6, 2, 1, 7, 9]
>>> y
[1, 2, 4, 6, 7, 9]
```

## 元组

元组语法很简单，只要将一些值用逗号分隔，就能自动创建一个元组。

```python
>>> 1, 2, 3
(1, 2, 3)
```

如果元组中只有一个值，必须在其后加上一个逗号

```python
>>>1,
(1,)
```

函数tuple的工作原理与list很像：它将一个序列作为参数，并将其转换为元组①。如果参数
已经是元组，就原封不动地返回它。

```python
>>> tuple([1, 2, 3])
(1, 2, 3)
>>> tuple('abc')
('a', 'b', 'c')
>>> tuple((1, 2, 3))
(1, 2, 3)
```

<b>注意：元组与列表的区别在于列表可以修改，而元组不可以</b>